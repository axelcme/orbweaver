<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gardens that change you. Cowichan Valley's mindful alternative to lawn warfare. Natural landcare services including garden coaching, gentle maintenance, and permaculture design.">
    <meta property="og:title" content="Orbweaver Natural Landcare">
    <meta property="og:description" content="Your lawn wants to be a garden. Natural landcare services in Cowichan Valley.">
    <meta property="og:type" content="website">
    <title>Orbweaver Natural Landcare | Cowichan Valley Natural Garden Care </title>

    <!-- Favicon placeholder - add your own favicon.ico to root directory -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- Google Fonts for rounded, friendly typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>

/* Reset and base styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Gary Oak ecosystem palette - Light mode (default) */
:root {
    /* Camas purple-blue */
    --camas: #6B5B95;
    /* Golden hour amber */
    --golden: #D4A574;
    /* Oak leaf green touched by sunset */
    --oak-green: #9A8C42;
    /* Warm bark brown */
    --bark: #8B6A47;
    /* Meadow grass gold */
    --meadow: #E8C07D;
    /* Soft sunset pink */
    --sunset: #F4B6A3;
    /* Warm cream */
    --cream: #FBF7F0;
    /* Lichen pale */
    --lichen: rgb(238, 232, 227);

    /* Text colors */
    --text-primary: #4A3A28;
    --text-secondary: #6B5A48;

    /* Card background */
    --card-bg: var(--cream);

    /* Border radius */
    --radius: 1.5rem;
    --radius-small: 0.75rem;
}

/* Global button styles */
.btn {
    font-size: 1rem;
    display: inline-block;
    padding: 0.75rem 1.5rem;
    border-radius: 2rem;
    font-weight: 600;
    text-decoration: none;
    font-family: inherit;
    transition: all 0.25s ease;
    cursor: pointer;
}

/* Primary button (camas purple) */
.btn-primary {
    background: var(--camas);
    color: #fff;
    border: none;
}

.btn-primary:hover {
    box-shadow: 0 0 12px rgba(107, 91, 149, 0.6);
    /* purple glow */
    transform: translateY(-2px);
}

/* Secondary button (oak green) */
.btn-secondary {
    background: var(--oak-green);
    color: #fff;
    border: none;
}

.btn-secondary:hover {
    box-shadow: 0 0 12px rgba(154, 140, 66, 0.6);
    /* green glow */
    transform: translateY(-2px);
}

/* Disabled state */
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* Base styles */
html {
    background: var(--lichen);
    font-family: 'Quicksand', system-ui, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    color: var(--text-primary);
    scroll-behavior: smooth;
}

body {
    max-width: 900px;
    margin: 0 auto;
    padding: 1rem;
    font-weight: 500;
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: 600;
    line-height: 1.3;
    margin-bottom: 1rem;
}

h1 {
    font-family: 'Fredoka', sans-serif;
    font-size: 3rem;
    font-weight: 600;
    letter-spacing: -1px;
    color: var(--camas);
}

h2 {
    font-size: 1.6rem;
    color: var(--bark);
    margin-top: 3rem;
    margin-bottom: 1.5rem;
}

h3 {
    font-size: 1.15rem;
    color: var(--bark);
}

p {
    margin-bottom: 1rem;
}

a {
    color: #8B6A47;
    /* Darker golden/bark for better contrast */
    text-decoration: none;
    transition: opacity 0.2s ease;
}

a:hover {}

/* Header styles */
header {
    text-align: left;
    padding: 1rem 0 0 0;
    position: relative;
}

header h1 {
    margin-bottom: 0rem;
    transition: transform 0.3s ease;
}

header h1:hover {
    margin-bottom: 0rem;
    transform: scale(1.02);
}

header h2 {
    color: #7A6F35;
    /* Darker oak green for better contrast */
    font-size: 1.1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-top: 0;
    margin-bottom: 0.5rem;
}

/* Remove old header p styles that are no longer needed */

/* Phone button in top right */
.header-phone {
    position: absolute;
    top: 3rem;
    right: 0;

}

.header-phone:hover {
    background: var(--camas);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(107, 91, 149, 0.2);
    text-decoration: none;
}

/* Hide phone button on mobile */
@media (max-width: 600px) {
    .header-phone {
        display: none;
    }
}

.hero-image {
    position: relative;
    width: 100%;
    height: 400px;
    border-radius: 1rem;
    margin: 1.5rem 0 2rem 0;
    overflow: hidden;
}

/* Image background */
.hero-image img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
}

/* Golden overlay */
.hero-image::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom right,
            rgba(212, 165, 116, 0.55),
            rgba(212, 165, 116, 0.35));
    z-index: 1;
}

/* Center overlay content */
.hero-overlay {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    text-align: center;
    color: var(--cream);
    /* cream text like cards */
    padding: 2rem;
}

.hero-overlay h2 {
    color: var(--cream) !important;
    /* force cream like cards */
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0 0 1.5rem 0;
    font-family: 'Fredoka', sans-serif;
    line-height: 1.2;
    text-transform: none !important;
    /* cancel uppercase */
    letter-spacing: normal !important;
    /* cancel extra spacing */
}

.hero-cta {}

.hero-cta:hover {}

/* Main content */
main>p:first-of-type {
    font-size: 1.25rem;
    line-height: 1.7;
    font-weight: 500;
}

/* Blockquote */
blockquote {
    background: linear-gradient(135deg,
            rgba(212, 165, 116, 0.08),
            rgba(107, 91, 149, 0.04));
    border-left: 3px solid var(--oak-green);
    border-radius: 1rem;
    padding: 1.5rem;
    margin: 2rem 0;
}

blockquote p {
    font-size: 1.05rem;
    line-height: 1.7;
    margin-bottom: 0.8rem;
}

blockquote p:last-child {
    margin-bottom: 0;
}

/* Article cards container */
.cards-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    position: relative;
    margin-bottom: 1rem;
}

/* Article cards */
article {
    background: var(--card-bg);
    padding: 1.5rem;
    border-radius: 1.2rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
}

article:hover {
    box-shadow: 0 6px 24px rgba(107, 91, 149, 0.08);
    transform: translateY(-2px);
}

/* Mobile carousel styles */
@media (max-width: 768px) {
    .cards-wrapper {
        position: relative;
        margin: 0 -1rem 2rem -1rem;
        padding: 0 1rem;
    }

    .cards-container {
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        display: flex;
        gap: 1rem;
        padding-bottom: 1.5rem;
        scrollbar-width: none;
        -ms-overflow-style: none;
        -webkit-overflow-scrolling: touch;
    }

    .cards-container::-webkit-scrollbar {
        display: none;
    }

    .cards-container:focus {
        outline: 2px solid #7A6F35;
        outline-offset: 2px;
        border-radius: 0.5rem;
    }

    .cards-container article {
        flex: 0 0 calc(100% - 4rem);
        scroll-snap-align: start;
        margin-left: 0;
    }

    .cards-container article:first-child {
        margin-left: 0.5rem;
    }

    .cards-container article:last-child {
        margin-right: 1rem;
    }

    /* Simple dot indicators */
    .carousel-dots {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin-top: -0.5rem;
    }

    .carousel-dots span {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: rgba(107, 91, 149, 0.2);
        transition: all 0.3s ease;
    }

    .carousel-dots span.active {
        background: var(--oak-green);
        width: 20px;
        border-radius: 3px;
    }

    @media (prefers-color-scheme: dark) {
        .carousel-dots span {
            background: rgba(229, 194, 155, 0.2);
        }

        .carousel-dots span.active {
            background: var(--golden);
        }
    }
}

/* Tablet and desktop grid */
@media (min-width: 769px) {
    .cards-container {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }

    /* Force 2x2 grid for How we work section */
    #howWeWorkCards {
        grid-template-columns: repeat(2, 1fr);
    }

    .carousel-dots {
        display: none;
    }
}

article h3 {
    color: var(--camas);
    margin-bottom: 0.8rem;
}

/* Only style the subtitle in "What we do" section */
#whatWeDoCards article h3+p {
    color: #7A6F35;
    /* Darker green for WCAG AA compliance */
    font-style: italic;
    font-size: 0.95rem;
    margin-bottom: 1rem;
    font-weight: 500;
}

/* Aside callout with sunset gradient and strong contrast */
aside {
    background: linear-gradient(135deg, var(--meadow), var(--sunset));
    border-radius: 2rem;
    padding: 2.5rem;
    margin: 2rem 0;
    text-align: center;
    box-shadow: 0 6px 20px rgba(244, 182, 163, 0.3);
    position: relative;
    overflow: hidden;
}

/* Add subtle texture/depth */
aside::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    pointer-events: none;
}

aside h3 {
    color: #5A4A3A;
    /* Dark brown for strong contrast on light gradient */
    margin-bottom: 0.5rem;
    font-weight: 700;
    font-size: 1.4rem;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    position: relative;
}

aside p {
    font-weight: 600;
    font-size: 1.05rem;
    margin-bottom: 0.5rem;
    color: #4A3A28;
    /* Very dark brown for excellent contrast */
    position: relative;
}

aside p:last-child {
    margin-bottom: 0;
}

/* Mark highlight */
mark {
    background: rgba(212, 165, 116, 0.2);
    color: inherit;
    padding: 0.2rem 0.4rem;
    border-radius: 0.3rem;
    font-weight: 600;
    display: inline-block;
    line-height: 1.4;
}

/* Boundaries box - more prominent */
.boundaries {
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(139, 106, 71, 0.08), rgba(107, 91, 149, 0.05));
    border-left: 3px solid var(--bark);
    border-radius: 0.5rem;
    margin: 2rem 0;
    font-size: 0.95rem;
}

.boundaries strong {
    display: block;
    color: var(--bark);
    font-size: 1.05rem;
    margin-bottom: 0.5rem;
}

/* Form styles */
form {
    background: var(--card-bg);
    padding: 2rem;
    border-radius: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    margin-bottom: 0;
    position: relative;
    z-index: 1;
}

form p {
    margin-bottom: 1.5rem;
}

label {
    display: block;
    margin-bottom: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
}

input,
textarea,
select {
    width: 100%;
    padding: 0.75rem 1rem;
    margin-top: 0.5rem;
    border: 1px solid rgba(212, 165, 116, 0.3);
    border-radius: 0.75rem;
    background: var(--lichen);
    font-family: inherit;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.2s ease;
}

input:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: var(--oak-green);
    box-shadow: 0 0 0 4px rgba(154, 140, 66, 0.1);
}

textarea {
    resize: vertical;
    min-height: 120px;
}

button {}

button:hover:not(:disabled) {}

button:disabled {}

/* Form message */
.form-message {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 0.5rem;
    text-align: center;
    font-weight: 600;
}

.form-message.success {
    background: rgba(154, 140, 66, 0.1);
    color: var(--oak-green);
}

.form-message.error {
    background: rgba(244, 182, 163, 0.2);
    color: var(--bark);
}

/* Service details grid - layered under form */
.service-details {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    padding: 3rem 2rem 2rem 2rem;
    background: var(--bark);
    color: var(--cream);
    border-radius: 0 0 1.5rem 1.5rem;
    font-size: 0.95rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    position: relative;
    margin-top: -1rem;
    z-index: 0;
}

.service-details strong {
    color: var(--cream);
}

/* Contact form anchor for smooth scrolling */
#contact-form {
    scroll-margin-top: 2rem;
}

/* Footer */
footer {
    text-align: center;
    margin-top: 4rem;
    padding: 2rem 0;
}

footer strong {
    color: var(--camas);
}

footer small {
    color: #7A6F35;
    /* Darker green for better contrast */
    font-weight: 600;
}

/* Dark mode */

/*@media (prefers-color-scheme: dark) {
            html {
                background: #3a3530;
            }
            
            :root {
                --camas: #B5A8D4;
                --golden: #F0D4A8;
                --oak-green: #C5B874;
                --bark: #B89B82;
                --meadow: #E4C8A6;
                --sunset: #F5BCB0;
                --cream: #4a453f;
                --lichen: #3a3530;
                --text-primary: #F5F0E8;
                --text-secondary: #D5D0C8;
                --card-bg: #4a453f;
            }
            
            
            .hero-image::after {
              background: linear-gradient(
                to bottom right,
                rgba(80, 97, 122, 0.294),
                rgba(79, 56, 32, 0.35)
              );
            }
            
            aside {
                background: linear-gradient(135deg, 
                    rgba(181, 168, 100, 0.9), 
                    rgba(155, 142, 199, 0.85));
                box-shadow: 0 6px 20px rgba(155, 142, 199, 0.4);
            }
            
            aside::before {
                background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
            }
            
            aside h3 {
                color: #F5F0E8; 
                text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            }
            
            aside p {
                color: #F5F0E8;
            }
            
            .service-details {
                background: #252018;
                color: var(--cream);
            }
            
            .service-details strong {
                color: var(--cream);
            }
            
            input, textarea, select {
                background: #3a3530;
                border-color: rgba(229, 194, 155, 0.2);
                color: var(--text-primary);
            }
            
            mark {
                background: rgba(229, 194, 155, 0.25);
                color: var(--text-primary);
            }
        } */

/* Mobile responsive */
@media (max-width: 600px) {
    h1 {
        font-size: 2.2rem;
    }

    header h2 {
        font-size: 1.1rem;
    }

    main>p:first-of-type {
        font-size: 1.15rem;
    }

    .hero-image {
        height: 300px;
    }

    .hero-overlay h2 {
        font-size: 2rem;
    }

    .service-details {
        grid-template-columns: 1fr;
    }
}

/* Print styles */
@media print {
    body {
        font-size: 11pt;
    }

    article {
        page-break-inside: avoid;
    }

    form,
    aside {
        display: none;
    }
}

</style>
</head>
<body>
    <header>
        <h1>Orbweaver</h1>
        <h2>Natural Landcare</h2>
        <a href="tel:250-710-1010" class="btn btn-secondary header-phone">Call 250-710-1010</a>
        <div class="hero-image">
            <img src="/images/hero.jpg" alt="natural meadowscape">
            <div class="hero-overlay">
                <h2>Your lawn wants to be a garden.</h2>
                <a href="#contact-form" class="btn btn-primary">Start a conversation</a>
            </div>
        </div>
    </header>
    
    <main>
    <p>There's a different way to think about your outdoor space. One where you work with nature instead of declaring war on it every Sunday.</p>

    <blockquote>
        <p>We've been told land needs constant control. Trim this. Spray that. Fight back the chaos.</p>
        <p>But what if your garden already knows what it wants to become? What if the secret is just learning how to listen?</p>
        <p>That's what we'll do. We'll observe, we'll understand, then we'll guide. The result? Alive and abundant spaces that basically take care of themselves. </p>
    </blockquote>

    <section>
        <h2>How we work</h2>

        <div class="cards-wrapper">
            <div class="cards-container" id="howWeWorkCards" tabindex="0" role="region" aria-label="How we work services carousel">
                <article>
                    <h3>Build soil, not dependencies</h3>
                    <p>Healthy soil grows healthy plants. We focus on building living soil that gets better each year, not dependent on fertilizers or other amendments.</p>
                </article>

                <article>
                    <h3>Plant for the long term</h3>
                    <p>We choose plants that actually want to grow here, from seeds that were born here. They'll need less water and care once established.</p>
                </article>

                <article>
                    <h3>Welcome wildlife</h3>
                    <p>A balanced garden has predators for every pest. We design habitats that attract and shelter beneficial insects, reptiles, and birds.</p>
                </article>

                <article>
                    <h3>Capture rain where it falls</h3>
                    <p>Using simple earthworks and plantings that slow and sink water, we reduce or eliminate irrigation needs and prevent erosion.</p>
                </article>
            </div>
            <div class="carousel-dots" id="howWeWorkDots"></div>
        </div>

        <aside>
            <h3>Quiet work</h3>
            <p>We work with the land, not against it.<br>
            We use scythes, not mowers. Hand tools, not blowers. <br>
            Your neighbours will thank you.</p>
        </aside>
    </section>

    <section>
        <h2>What we do</h2>

        <div class="cards-wrapper">
            <div class="cards-container" id="whatWeDoCards" tabindex="0" role="region" aria-label="What we do services carousel">
                <article>
                    <h3>Garden coaching</h3>
                    <p>For the curious</p>
                    <p>Think of us as your garden translator. We'll teach you to read what your plants are actually saying, build soil that's genuinely alive, and create abundance without the struggle.</p>
                    <p><mark>Perfect if you want to learn but don't know where to start.</mark></p>
                </article>

                <article>
                    <h3>Gentle maintenance</h3>
                    <p>For the busy</p>
                    <p>Regular care that makes your garden more independent over time, not less. We prune for health, not conformity. Build soil, not deplete it. Every visit moves you closer to a self-sustaining ecosystem.</p>
                    <p><mark>It's maintenance that has an exit strategy.</mark></p>
                </article>

                <article>
                    <h3>Full garden design</h3>
                    <p>For the ready</p>
                    <p>Let's create something extraordinary. Native plants that actually want to be here. Food forests that look like art installations. Rain gardens that solve problems whilst creating beauty.</p>
                    <p><mark>This is landscape as possibility.</mark></p>
                </article>
            </div>
            <div class="carousel-dots" id="whatWeDoDots"></div>
        </div>

        <div class="boundaries">
            <strong>What we don't do:</strong> 
            <p>No plastic, no poison, no petroleum.</p>
            <p>No mowing, blowing, irrigation installation, hardscaping, or anything requiring heavy machinery. For those services, we know excellent people to recommend. </p>
            <p>No lawns. We'll do 'area rugs' of bee turf, but we think it's time to move on from wall-to-wall. </p>
            <p>As for 'weedeating', we won't run a string trimmer but we might make a salad.</p>
        </div>
    </section>

    <section id="contact-form">
        <h2>Start something</h2>

        <form id="contactForm" action="https://formspree.io/f/xyzdqbaw" method="POST">
            <p>Tell us about your space and we'll start a conversation. No pressure, no sales pitch. Just two people talking about plants.</p>

            <label>
                Name
                <input type="text" name="name" placeholder="What should we call you?" required>
            </label>

            <label>
                Email
                <input type="email" name="email" placeholder="your@email.com" required>
            </label>

            <label>
                Phone (optional)
                <input type="tel" name="phone" placeholder="250-xxx-xxxx">
            </label>
            
            <label>
                Location (optional)
                <input type="text" name="location" placeholder="Where do your plants live?">
            </label>

            <!-- Hidden field for Formspree -->
            <input type="hidden" name="_subject" value="New inquiry from Orbweaver website">

            <label>
                What's happening with your outdoor space?
                <textarea name="message" rows="4" placeholder="Honest assessment welcome. 'Total disaster' is a perfectly valid starting point." required></textarea>
            </label>

            <label>
                What service interests you most?
                <select name="service">
                    <option value="">Choose one (optional)</option>
                    <option value="coaching">Garden coaching</option>
                    <option value="maintenance">Gentle maintenance</option>
                    <option value="design">Full garden design</option>
                    <option value="consultation">Just a consultation</option>
                </select>
            </label>

            <!-- Honeypot field for spam prevention -->
            <div style="position:absolute;left:-5000px" aria-hidden="true">
                <input type="text" name="website" tabindex="-1">
            </div>

            <button type="submit" class="btn btn-primary">Let's talk</button>
            <div id="formMessage" class="form-message" style="display:none;"></div>
        </form>

        <div class="service-details">
            <div><strong>Service area:</strong> "Cowichan Valley"</div>
            <div><strong>Consultation:</strong> $120</div>
            <div><strong>Response time:</strong> Within one week</div>
            <div><strong>Availability:</strong> Year-round</div>
        </div>
    </section>
</main>

    <footer>
    <p>
        <strong>Orbweaver Natural Landcare</strong><br>
        Quw&rsquo;utsun Traditional Lands<br>
        <a href="tel:250-710-1010">250-710-1010</a><br>
        <a href="mailto:hello@orbweaver.ca">hello@orbweaver.ca</a><br>
    </p>
    <small>Beautiful outdoor spaces, without the warfare.</small>
</footer>

    <script>
        // Simplified carousel functionality - swipe only with dot indicators
        function initCarousels() {
            const carousels = [
                { containerId: 'howWeWorkCards', dotsId: 'howWeWorkDots' },
                { containerId: 'whatWeDoCards', dotsId: 'whatWeDoDots' }
            ];
            
            carousels.forEach(config => {
                const container = document.getElementById(config.containerId);
                const dotsContainer = document.getElementById(config.dotsId);
                
                if (!container || !dotsContainer) return;
                
                const cards = container.querySelectorAll('article');
                
                // Add keyboard navigation
                container.addEventListener('keydown', (e) => {
                    if (!cards.length) return;
                    
                    const cardWidth = cards[0].offsetWidth + 16; // width + gap
                    const currentScroll = container.scrollLeft;
                    const currentIndex = Math.round(currentScroll / cardWidth);
                    
                    if (e.key === 'ArrowRight') {
                        e.preventDefault();
                        const nextIndex = Math.min(currentIndex + 1, cards.length - 1);
                        container.scrollTo({
                            left: nextIndex * cardWidth,
                            behavior: 'smooth'
                        });
                    } else if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        const prevIndex = Math.max(currentIndex - 1, 0);
                        container.scrollTo({
                            left: prevIndex * cardWidth,
                            behavior: 'smooth'
                        });
                    }
                });
                
                if (window.innerWidth <= 768 && cards.length > 0) {
                    // Create dot indicators
                    dotsContainer.innerHTML = '';
                    cards.forEach((_, index) => {
                        const dot = document.createElement('span');
                        if (index === 0) dot.classList.add('active');
                        dotsContainer.appendChild(dot);
                    });
                    
                    // Update dots on scroll
                    container.addEventListener('scroll', () => {
                        const scrollPosition = container.scrollLeft;
                        const cardWidth = cards[0].offsetWidth + 16; // width + gap
                        const currentIndex = Math.round(scrollPosition / cardWidth);
                        
                        const dots = dotsContainer.querySelectorAll('span');
                        dots.forEach((dot, index) => {
                            dot.classList.toggle('active', index === currentIndex);
                        });
                    });
                }
            });
        }
        
        // Initialize carousels on load and resize
        window.addEventListener('load', initCarousels);
        window.addEventListener('resize', () => {
            // Re-initialize on resize to handle orientation changes
            initCarousels();
        });
        
        // Form submission handler
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const form = e.target;
            const formData = new FormData(form);
            const btn = form.querySelector('button[type="submit"]');
            const messageDiv = document.getElementById('formMessage');
            
            // Check honeypot
            if (formData.get('website')) {
                return; // Bot detected, silently fail
            }
            
            // Disable button and show loading state
            btn.textContent = 'Sending...';
            btn.disabled = true;
            messageDiv.style.display = 'none';
            
            try {
                // Send to Formspree
                const response = await fetch('https://formspree.io/f/xyzdqbaw', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json'
                    },
                    body: formData  // Send FormData directly
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // Show success message
                    messageDiv.textContent = 'Message received! We\'ll be in touch within a week.';
                    messageDiv.className = 'form-message success';
                    messageDiv.style.display = 'block';
                    
                    // Reset form
                    form.reset();
                    
                    // Reset button after delay
                    setTimeout(() => {
                        btn.textContent = 'Let\'s talk';
                        btn.disabled = false;
                        messageDiv.style.display = 'none';
                    }, 5000);
                } else {
                    // Handle Formspree errors
                    const errorMsg = result.error || 'Form submission failed. Please try again.';
                    throw new Error(errorMsg);
                }
            } catch (error) {
                // Show error message
                console.error('Form error:', error);
                messageDiv.textContent = error.message || 'Something went wrong. Please try again or email us directly.';
                messageDiv.className = 'form-message error';
                messageDiv.style.display = 'block';
                
                btn.textContent = 'Let\'s talk';
                btn.disabled = false;
            }
        });

        // Add smooth scroll behaviour for any internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>
